import{R as s}from"./index-CDHjsR_z.js";import{_ as T,r as p,o as v,a as B,c as W,b as w,F as z}from"./index-1scugG01.js";const R={__name:"cesiumAndThree",setup(g){Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJjOWM5N2FlYy0wNTIyLTRhZDAtYTM2Yi04ZGEzYzMzNTRjYmQiLCJpZCI6NTcwNzEsImlhdCI6MTYyMjAxMjY3MH0.IRCEryIGGPZeCGqJ8lpMESuZO9DTIlLnF-WS-w9YYzc";const h=p(null),x=p(null),l=[115.23,39.55],d=[116.23,41.55];v(()=>I(h.value,M(x.value)));function M(o){const i=new Cesium.Viewer(o,{infoBox:!1});return i.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees((l[0]+d[0])/2,(l[1]+d[1])/2-1,2e5),orientation:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-60),roll:Cesium.Math.toRadians(0)}}),i}function y(o,i,a){i.fov=Cesium.Math.toDegrees(a.camera.frustum.fovy);const m=C=>new s.Vector3(C.x,C.y,C.z),{minWGS84:r,maxWGS84:t}=o.cesium,f=Cesium.Cartesian3.fromDegrees((r[0]+t[0])/2,(r[1]+t[1])/2),c=Cesium.Cartesian3.fromDegrees((r[0]+t[0])/2,(r[1]+t[1])/2,1),u=m(Cesium.Cartesian3.fromDegrees(r[0],r[1])),_=m(Cesium.Cartesian3.fromDegrees(r[0],t[1])),G=new s.Vector3().subVectors(u,_).normalize();o.position.copy(f),o.lookAt(c.x,c.y,c.z),o.up.copy(G),i.matrixAutoUpdate=!1;const e=a.camera.viewMatrix,n=a.camera.inverseViewMatrix;i.matrixWorld.set(n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],n[2],n[6],n[10],n[14],n[3],n[7],n[11],n[15]),i.matrixWorldInverse.set(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]),i.updateProjectionMatrix()}function I(o,i){const a=new s.Scene,m=new s.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e8),r=new s.WebGLRenderer({alpha:!0});r.setSize(o.clientWidth,o.clientHeight),o.appendChild(r.domElement);const t=new s.Group,f=new s.Mesh(new s.BoxGeometry(4,4,4),new s.MeshNormalMaterial);t.add(f);const c=new s.Mesh(new s.BoxGeometry(2,2,8),new s.MeshBasicMaterial({color:16711680}));c.position.x+=6,t.add(c),t.cesium={minWGS84:l,maxWGS84:d},a.add(t),t.scale.set(15e3,15e3,15e3);function u(){y(t,m,i),r.render(a,m),requestAnimationFrame(u)}u()}return(o,i)=>(B(),W(z,null,[w("div",{class:"cesiumBox",ref_key:"cesiumBox",ref:x},null,512),w("div",{class:"threeBox",ref_key:"threeBox",ref:h},null,512)],64))}},b=T(R,[["__scopeId","data-v-7cb49434"]]);export{b as default};
