import{S as k,P as w,W as C,A as E,T as B}from"./three.module-CVsY17GA.js";import{s as P,m as S,a as G,g as L,f as R,b as T}from"./threeApi-DOkTKUH7.js";import{c as W}from"./GUI-B53Psxen.js";import{l as j,T as A}from"./tilesApi-AOxUSWZV.js";import{d as H,r as u,o as I,f as U,g as F,e as y,a as q,c as z,_ as J}from"./index-1scugG01.js";import"./EffectComposer-CXsZCJ3S.js";const K=H({__name:"tilesShader",setup(N){const a=u();u(!0),I(()=>p(a.value));function p(e){const t=new k,s=new w(50,e.clientWidth/e.clientHeight,.1,1e5);t.add(s);const n=new C({antialias:!0,alpha:!0,logarithmicDepthBuffer:!0});n.setSize(e.clientWidth,e.clientHeight),n.setPixelRatio(window.devicePixelRatio),e.appendChild(n.domElement);const f=P(s,n),h=new E(5500);t.add(h);const o=W(B,t,s,f);U(()=>o.domElement.hidden=!1),F(()=>o.domElement.hidden=!0),y(()=>o.destroy());const c=j(s,n,"http://guangfu/resource/光伏站/tileset.json",r=>t.add(r),e),{Composer:_,outlinePass:i}=S(t,s,n,e),d=G(),x=T(50);l(),e.addEventListener("dblclick",g);function g(r){const v=L(r),m=R(v,s,t);if(m){const{object:b,face:Q}=m;i.selectedObjects=[b];return}}function l(){x(()=>{d&&d.update(),c&&A(c),n.render(t,s),i.selectedObjects.length>0?_.render():n.render(t,s)}),a.value&&requestAnimationFrame(l)}}return(e,t)=>(q(),z("div",{class:"threeBox",ref_key:"threeBox",ref:a},null,512))}}),O=J(K,[["__scopeId","data-v-f56791ae"]]);export{O as default};
